import{K as f,u as N,r as i,j as e}from"./index-Dk9IaMJz.js";import{a as m}from"./axios-upsvKRUO.js";import{R as v}from"./quill.snow-MFzqefi0.js";import{N as y}from"./AdminNavbar-CynIPfJf.js";function I(){const{id:c}=f(),d=N(),[t,r]=i.useState({postDate:"",category:"",username:"",occupation:"",title:"",body:"",blogImage:null});i.useEffect(()=>{p()},[]);const p=async()=>{try{const s=await m.get(`http://localhost:30001/Blogpost/${c}`),{postDate:a,category:o,username:n,occupation:x,title:b,body:j}=s.data;r({postDate:a,category:o,username:n,occupation:x,title:b,body:j,blogImage:null})}catch(s){console.error("Error fetching blog details:",s)}},l=s=>{const{name:a,value:o}=s.target;r(n=>({...n,[a]:o}))},u=s=>{r(a=>({...a,body:s}))},h=s=>{r(a=>({...a,blogImage:s.target.files[0]}))},g=async s=>{s.preventDefault();const a=new FormData;a.append("postDate",t.postDate),a.append("category",t.category),a.append("username",t.username),a.append("occupation",t.occupation),a.append("title",t.title),a.append("body",t.body),t.blogImage&&a.append("blogImage",t.blogImage);try{await m.put(`http://localhost:30001/Blogpost/${c}`,a,{headers:{"Content-Type":"multipart/form-data"}}),d("/BlogTable")}catch(o){console.error("Error updating blog:",o)}};return e.jsxs(e.Fragment,{children:[e.jsx(y,{}),e.jsx("div",{className:"container-fluid mt-2",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-10",children:e.jsx("form",{id:"blogPostForm",onSubmit:g,children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title text-center",children:"Edit Blog Post"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"Post Date"}),e.jsx("input",{type:"date",className:"form-control",name:"postDate",value:t.postDate,required:!0,onChange:l})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"Category"}),e.jsx("input",{className:"form-control",placeholder:"Enter Category",list:"categories",name:"category",value:t.category,required:!0,onChange:l}),e.jsxs("datalist",{id:"categories",children:[e.jsx("option",{value:"Sale"}),e.jsx("option",{value:"Marketing"}),e.jsx("option",{value:"Frontend"}),e.jsx("option",{value:"Salesman"})]})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"Username"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Enter Username",name:"username",value:t.username,required:!0,onChange:l})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"Occupation"}),e.jsx("input",{className:"form-control",placeholder:"Enter Occupation",name:"occupation",value:t.occupation,required:!0,onChange:l})]}),e.jsxs("div",{className:"col-md-12 mb-3",children:[e.jsx("label",{className:"form-label",children:"Title"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Enter Blog Title",name:"title",value:t.title,required:!0,onChange:l})]}),e.jsxs("div",{className:"col-md-12 mb-3",children:[e.jsx("label",{className:"form-label",children:"Body"}),e.jsx(v,{theme:"snow",value:t.body,onChange:u,placeholder:"Write your blog content here..."})]}),e.jsxs("div",{className:"col-md-12 mb-3",children:[e.jsx("label",{className:"form-label",children:"Blog Image"}),e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:h})]})]})}),e.jsx("div",{className:"card-footer",children:e.jsx("button",{className:"btn btn-primary",type:"submit",children:"Update Blog"})})]})})})})})]})}export{I as default};
