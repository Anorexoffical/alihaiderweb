import{r as l,u as h,j as e}from"./index-Dk9IaMJz.js";import{a as o}from"./axios-upsvKRUO.js";import{N as x}from"./AdminNavbar-CynIPfJf.js";function b(){const[c,a]=l.useState([]),n=h(),r=async()=>{try{const t=await o.get("http://localhost:30001/AllBlogs");a(t.data)}catch(t){console.error("Error fetching all blogs:",t)}};l.useEffect(()=>{r()},[]);const i=async t=>{if(window.confirm("Are you sure you want to delete this blog?"))try{await o.delete(`http://localhost:30001/Blogpost/${t._id}`),r()}catch(s){console.error("Error deleting blog:",s)}},d=t=>{n(`/EditBlogPost/${t}`)};return e.jsxs(e.Fragment,{children:[e.jsx(x,{}),e.jsx("div",{className:"container mt-4",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-hover",children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"S.No"}),e.jsx("th",{scope:"col",children:"Title"}),e.jsx("th",{scope:"col",children:"Username"}),e.jsx("th",{scope:"col",children:"Date"}),e.jsx("th",{scope:"col",className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:c.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{children:s+1}),e.jsx("td",{children:t.title}),e.jsx("td",{children:t.username}),e.jsx("td",{children:t.postDate}),e.jsxs("td",{className:"text-center",children:[e.jsx("button",{className:"btn btn-sm editbtn mx-1",onClick:()=>d(t._id),children:"Edit"}),e.jsx("button",{className:"btn deletebtn btn-sm mx-1",onClick:()=>i(t),children:"Delete"})]})]},t._id))})]})})})]})}export{b as default};
