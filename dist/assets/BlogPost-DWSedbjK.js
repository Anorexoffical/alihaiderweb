import{r as s,u as B,j as e}from"./index-XqtgtB4L.js";import{N as I}from"./AdminNavbar-BV7ZCY6b.js";import{a as P}from"./index-DW_MHI2K.js";import{R as w}from"./quill.snow-B_5HIp2c.js";import{L as D,y as d}from"./ReactToastify-DAGoebcJ.js";/* empty css               */import"./index-CbOGGaJ3.js";import"./logo-TELqML9G.js";import"./clsx-B-dksMZM.js";function k(){const[o,u]=s.useState(""),[l,p]=s.useState(""),[r,g]=s.useState(""),[n,h]=s.useState(""),[i,x]=s.useState(""),[c,j]=s.useState(""),[f,v]=s.useState(null),N=B();s.useEffect(()=>{sessionStorage.getItem("userName")||N("/login")},[N]);const b=t=>{v(t.target.files[0])},y=t=>{if(t.preventDefault(),!o||!l||!r||!n||!i||!c){E();return}const a=new FormData;a.append("postDate",o),a.append("category",l),a.append("username",r),a.append("occupation",n),a.append("title",i),a.append("body",c),f&&a.append("blogImage",f),P.post("https://icellmobile.co.za/api/Blogpost",a,{headers:{"Content-Type":"multipart/form-data"}}).then(m=>{console.log(m),S(),u(""),p(""),g(""),h(""),x(""),j(""),v(null),document.getElementById("blogPostForm").reset()}).catch(m=>{console.log(m),C()})},C=()=>{d.warn("An error occurred while saving the blog post.",{autoClose:2e3})},E=()=>{d.warn("Please fill in all fields.",{autoClose:2e3})},S=()=>{d.success("Blog post saved successfully!",{autoClose:2e3})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{}),e.jsx(I,{}),e.jsx("div",{className:"container-fluid mt-4",children:e.jsx("div",{className:"containerblog card p-4",children:e.jsx("form",{id:"blogPostForm",onSubmit:y,children:e.jsx("div",{className:"form first",children:e.jsxs("div",{className:"details personal",children:[e.jsx("h2",{className:"text-center mb-4",children:"Create Blog Post"}),e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Post Date"}),e.jsx("input",{type:"date",className:"form-control",required:!0,value:o,onChange:t=>u(t.target.value)})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Category"}),e.jsx("input",{className:"form-control",placeholder:"Enter Category",list:"categories",required:!0,value:l,onChange:t=>p(t.target.value)}),e.jsxs("datalist",{id:"categories",children:[e.jsx("option",{value:"Activate my SIM"}),e.jsx("option",{value:"Top up"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Username"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Enter Username",required:!0,value:r,onChange:t=>g(t.target.value)})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Occupation"}),e.jsx("input",{className:"form-control",placeholder:"Enter Occupation",list:"blogcategories",required:!0,value:n,onChange:t=>h(t.target.value)}),e.jsxs("datalist",{id:"blogcategories",children:[e.jsx("option",{value:"Telecom Network Engineer"}),e.jsx("option",{value:"SIM Card Engineer "}),e.jsx("option",{value:"Electronics Engineer"}),e.jsx("option",{value:"VoLTE & IMS Engineer"}),e.jsx("option",{value:"Embedded Systems Enginee"})]})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Title"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Enter Blog Title",required:!0,value:i,onChange:t=>x(t.target.value)})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Body"}),e.jsx(w,{theme:"snow",value:c,onChange:j,placeholder:"Write your blog content here...",className:"responsive-quill"})]}),e.jsxs("div",{className:"col-12 mt-4",children:[e.jsx("label",{className:"form-label",children:"Blog Image"}),e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:b})]}),e.jsx("div",{className:"col-12 text-end",children:e.jsx("button",{className:"btn btn-primary",type:"submit",children:"Post Blog"})})]})]})})})})})]})}export{k as default};
