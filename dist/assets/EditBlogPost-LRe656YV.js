import{e as f,u as N,r as i,j as e}from"./index-XqtgtB4L.js";import{a as m}from"./index-DW_MHI2K.js";import{R as v}from"./quill.snow-B_5HIp2c.js";import{N as y}from"./AdminNavbar-BV7ZCY6b.js";/* empty css               */import"./index-CbOGGaJ3.js";import"./logo-TELqML9G.js";function q(){const{id:c}=f(),d=N(),[t,r]=i.useState({postDate:"",category:"",username:"",occupation:"",title:"",body:"",blogImage:null});i.useEffect(()=>{p()},[]);const p=async()=>{try{const o=await m.get(`https://icellmobile.co.za/api/Blogpost/${c}`),{postDate:a,category:l,username:n,occupation:b,title:x,body:j}=o.data;r({postDate:a,category:l,username:n,occupation:b,title:x,body:j,blogImage:null})}catch(o){console.error("Error fetching blog details:",o)}},s=o=>{const{name:a,value:l}=o.target;r(n=>({...n,[a]:l}))},u=o=>{r(a=>({...a,body:o}))},g=o=>{r(a=>({...a,blogImage:o.target.files[0]}))},h=async o=>{o.preventDefault();const a=new FormData;a.append("postDate",t.postDate),a.append("category",t.category),a.append("username",t.username),a.append("occupation",t.occupation),a.append("title",t.title),a.append("body",t.body),t.blogImage&&a.append("blogImage",t.blogImage);try{await m.put(`https://icellmobile.co.za/api/Blogpost/${c}`,a,{headers:{"Content-Type":"multipart/form-data"}}),d("/BlogTable")}catch(l){console.error("Error updating blog:",l)}};return e.jsxs(e.Fragment,{children:[e.jsx(y,{}),e.jsx("div",{className:"container-fluid mt-2",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-10",children:e.jsx("form",{id:"blogPostForm",onSubmit:h,children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title text-center",children:"Edit Blog Post"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"Post Date"}),e.jsx("input",{type:"date",className:"form-control",name:"postDate",value:t.postDate,required:!0,onChange:s})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"Category"}),e.jsx("input",{className:"form-control",placeholder:"Enter Category",list:"categories",name:"category",value:t.category,required:!0,onChange:s}),e.jsxs("datalist",{id:"categories",children:[e.jsx("option",{value:"Sale"}),e.jsx("option",{value:"Marketing"}),e.jsx("option",{value:"Frontend"}),e.jsx("option",{value:"Salesman"})]})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"Username"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Enter Username",name:"username",value:t.username,required:!0,onChange:s})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"Occupation"}),e.jsx("input",{className:"form-control",placeholder:"Enter Occupation",name:"occupation",value:t.occupation,required:!0,onChange:s})]}),e.jsxs("div",{className:"col-md-12 mb-3",children:[e.jsx("label",{className:"form-label",children:"Title"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Enter Blog Title",name:"title",value:t.title,required:!0,onChange:s})]}),e.jsxs("div",{className:"col-md-12 mb-3",children:[e.jsx("label",{className:"form-label",children:"Body"}),e.jsx(v,{theme:"snow",value:t.body,onChange:u,placeholder:"Write your blog content here..."})]}),e.jsxs("div",{className:"col-md-12 mb-3",children:[e.jsx("label",{className:"form-label",children:"Blog Image"}),e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:g})]})]})}),e.jsx("div",{className:"card-footer",children:e.jsx("button",{className:"btn btn-primary",type:"submit",children:"Update Blog"})})]})})})})})]})}export{q as default};
